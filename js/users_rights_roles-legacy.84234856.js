(self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[]).push([[241],{2198:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("权限管理")]),r("el-breadcrumb-item",[e._v("权限列表")])],1),r("el-card",[r("el-table",{attrs:{data:e.rightsList,stripe:"",border:""}},[r("el-table-column",{attrs:{type:"index",label:"#"}}),r("el-table-column",{attrs:{label:"权限名称",prop:"authName"}}),r("el-table-column",{attrs:{label:"路径",prop:"path"}}),r("el-table-column",{attrs:{label:"权限等级"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.level?r("el-tag",[e._v("一级")]):"1"==t.row.level?r("el-tag",{attrs:{type:"success"}},[e._v("二级")]):r("el-tag",{attrs:{type:"warning"}},[e._v("三级")])]}}])})],1)],1)],1)},a=[],i=r(6198),o=(r(5666),r(5394)),s={data:function(){return{rightsList:[]}},created:function(){this.getRightsList()},get computed(){return this._computed},set computed(e){this._computed=e},methods:{getRightsList:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.WC)("list");case 2:if(r=t.sent,n=r.data,200===n.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("获取权限列表失败"));case 6:e.rightsList=n.data;case 7:case"end":return t.stop()}}),t)})))()}}},u=s,l=r(3736),c=(0,l.Z)(u,n,a,!1,null,"54d5a893",null),d=c.exports},3242:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("权限管理")]),r("el-breadcrumb-item",[e._v("角色列表")])],1),r("el-card",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加角色")]),r("el-table",{attrs:{data:e.rolelist,stripe:"",border:""}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.children,(function(n,a){return r("el-row",{key:n.id,class:["vcenter","bdbottom",0==a?"bdtop":""]},[r("el-col",{attrs:{span:5}},[r("el-tag",{attrs:{closable:""},on:{close:function(r){return e.removeRightById(t.row,n.id)}}},[e._v(e._s(n.authName))]),r("i",{staticClass:"el-icon-caret-right"})],1),r("el-col",{attrs:{span:18}},e._l(n.children,(function(n,a){return r("el-row",{key:n.id,class:["vcenter",0==a?"":"bdtop"]},[r("el-col",{attrs:{span:6}},[r("el-tag",{attrs:{type:"success",closable:""},on:{close:function(r){return e.removeRightById(t.row,n.id)}}},[e._v(" "+e._s(n.authName)+" ")]),r("i",{staticClass:"el-icon-caret-right"})],1),r("el-col",{attrs:{span:18}},e._l(n.children,(function(n){return r("el-tag",{key:n.id,attrs:{type:"warning",closable:""},on:{close:function(r){return e.removeRightById(t.row,n.id)}}},[e._v(" "+e._s(n.authName)+" ")])})),1)],1)})),1)],1)}))}}])}),r("el-table-column",{attrs:{type:"index",label:"#"}}),r("el-table-column",{attrs:{label:"角色名称",prop:"roleName"}}),r("el-table-column",{attrs:{label:"角色描述",prop:"roleDesc"}}),r("el-table-column",{attrs:{label:"操作",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(r){return e.showEditDialog(t.row.id)}}},[e._v(" 编辑 ")]),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(r){return e.removeRoleById(t.row.id)}}},[e._v(" 删除 ")]),r("el-button",{attrs:{type:"warning",icon:"el-icon-setting",size:"mini"},on:{click:function(r){return e.showSetRightDialog(t.row)}}},[e._v(" 分配角色 ")])]}}])})],1)],1),r("el-dialog",{attrs:{title:"添加角色",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addDialogClose}},[r("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.FormRules,width:"70px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[r("el-input",{model:{value:e.addForm.roleName,callback:function(t){e.$set(e.addForm,"roleName",t)},expression:"addForm.roleName"}})],1),r("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[r("el-input",{model:{value:e.addForm.roleDesc,callback:function(t){e.$set(e.addForm,"roleDesc",t)},expression:"addForm.roleDesc"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addRole}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"编辑角色",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClose}},[r("el-form",{ref:"editFormRef",attrs:{model:e.editForm,rules:e.FormRules,width:"70px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[r("el-input",{model:{value:e.editForm.roleName,callback:function(t){e.$set(e.editForm,"roleName",t)},expression:"editForm.roleName"}})],1),r("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[r("el-input",{model:{value:e.editForm.roleDesc,callback:function(t){e.$set(e.editForm,"roleDesc",t)},expression:"editForm.roleDesc"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editRole}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"分配角色",visible:e.setRightDialogVisible,width:"50%"},on:{"update:visible":function(t){e.setRightDialogVisible=t}}},[r("el-tree",{ref:"treeRef",attrs:{data:e.rightslist,props:e.treeProps,"show-checkbox":"","default-expand-all":"","node-key":"id","default-checked-keys":e.defKeys}}),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.setRightDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.allotRights}},[e._v("确 定")])],1)],1)],1)},a=[];function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){if(Array.isArray(e))return i(e)}r(2526),r(1817),r(1539),r(2165),r(8783),r(3948),r(1038);function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r(7042),r(8309),r(4916),r(7601);function u(e,t){if(e){if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}r(1703);function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return o(e)||s(e)||u(e)||l()}var d=r(6198),f=(r(4747),r(2222),r(9600),r(5666),r(5394)),m={data:function(){return{rolelist:[],addDialogVisible:!1,addForm:{roleName:"",roleDesc:""},editDialogVisible:!1,editForm:{},setRightDialogVisible:!1,rightslist:[],treeProps:{children:"children",label:"authName"},defKeys:[],roleId:"",FormRules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:2,max:10,message:"角色名称长度3 ~ 10",trigger:"blur"}],roleDesc:[]}}},created:function(){this.getRolesList()},methods:{getRolesList:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,f.Sd)();case 2:if(r=t.sent,n=r.data,200===n.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("获取角色列表失败"));case 6:e.rolelist=n.data;case 7:case"end":return t.stop()}}),t)})))()},addDialogClose:function(){this.$refs.addFormRef.resetFields()},addRole:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=(0,d.Z)(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,f._d)(e.addForm);case 4:if(n=t.sent,a=n.data,201===a.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("添加角色失败"));case 8:e.$message.success("添加角色成功"),e.addDialogVisible=!1,e.getRolesList();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},showEditDialog:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,f.xQ)(e);case 2:if(n=r.sent,a=n.data,200===a.meta.status){r.next=6;break}return r.abrupt("return",t.$message.error("查询角色信息失败"));case 6:t.editForm=a.data,t.editDialogVisible=!0;case 8:case"end":return r.stop()}}),r)})))()},editDialogClose:function(){this.$refs.editFormRef.resetFields()},editRole:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=(0,d.Z)(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,f.Aq)(e.editForm.roleId,{roleName:e.editForm.roleName,roleDesc:e.editForm.roleDesc});case 4:if(n=t.sent,a=n.data,200===a.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("更新角色信息失败"));case 8:e.$message.success("更新角色信息成功"),e.getRolesList(),e.editDialogVisible=!1;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},removeRoleById:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function r(){var n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$confirm("是否删除该角色","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(n=r.sent,"confirm"===n){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,(0,f.br)(e);case 7:if(a=r.sent,i=a.data,200===i.meta.status){r.next=11;break}return r.abrupt("return",t.$message.error("删除角色失败"));case 11:t.$message.success("删除角色成功"),t.getRolesList();case 13:case"end":return r.stop()}}),r)})))()},removeRightById:function(e,t){var r=this;return(0,d.Z)(regeneratorRuntime.mark((function n(){var a,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.$confirm("是否删除该权限","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=n.sent,"confirm"===a){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,(0,f.ym)(e.id,t);case 7:if(i=n.sent,o=i.data,200===o.meta.status){n.next=11;break}return n.abrupt("return",r.$message.error("删除权限失败"));case 11:e.children=o.data;case 12:case"end":return n.stop()}}),n)})))()},showSetRightDialog:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.roleId=e.id,r.next=3,(0,f.WC)("tree");case 3:if(n=r.sent,a=n.data,200===a.meta.status){r.next=7;break}return r.abrupt("return",t.$message.error("获取权限数据失败"));case 7:t.rightslist=a.data,t.defKeys=[],t.getLeafKeys(e,t.defKeys),t.setRightDialogVisible=!0;case 11:case"end":return r.stop()}}),r)})))()},getLeafKeys:function(e,t){var r=this;if(!e.children)return t.push(e.id);e.children.forEach((function(e){r.getLeafKeys(e,t)}))},allotRights:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=[].concat(c(e.$refs.treeRef.getCheckedKeys()),c(e.$refs.treeRef.getHalfCheckedKeys())),n=r.join(","),t.next=4,(0,f.VY)(e.roleId,n);case 4:if(a=t.sent,i=a.data,200===i.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("分配权限失败"));case 8:e.getRolesList(),e.setRightDialogVisible=!1;case 10:case"end":return t.stop()}}),t)})))()}}},p=m,g=r(3736),b=(0,g.Z)(p,n,a,!1,null,"64501efe",null),v=b.exports},4254:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("用户管理")]),r("el-breadcrumb-item",[e._v("用户列表")])],1),r("el-card",{staticClass:"box-card"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:7}},[r("el-input",{attrs:{placeholder:"请输入内容"},on:{change:e.getUsersList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getUsersList},slot:"append"})],1)],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加用户")])],1)],1),r("el-table",{attrs:{data:e.userlist,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"index",label:"#"}}),r("el-table-column",{attrs:{prop:"username",label:"姓名"}}),r("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),r("el-table-column",{attrs:{prop:"mobile",label:"电话"}}),r("el-table-column",{attrs:{prop:"role_name",label:"角色"}}),r("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{on:{change:function(r){return e.userStateChanged(t.row)}},model:{value:t.row.mg_state,callback:function(r){e.$set(t.row,"mg_state",r)},expression:"scope.row.mg_state"}})]}}])}),r("el-table-column",{attrs:{label:"操作",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(r){return e.showEditDialog(t.row.id)}}},[e._v(" 编辑 ")]),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(r){return e.removeUserById(t.row.id)}}},[e._v(" 删除 ")]),r("el-button",{attrs:{type:"warning",icon:"el-icon-setting",size:"mini"},on:{click:function(r){return e.setRole(t.row)}}},[e._v(" 分配角色 ")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[1,2,5,10],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.queryInfo,"pagenum",t)},"update:current-page":function(t){return e.$set(e.queryInfo,"pagenum",t)},"update:pageSize":function(t){return e.$set(e.queryInfo,"pagesize",t)},"update:page-size":function(t){return e.$set(e.queryInfo,"pagesize",t)}}})],1),r("el-dialog",{attrs:{title:"添加用户",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addDialogClose}},[r("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.FormRules,"label-width":"70px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),r("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[r("el-input",{model:{value:e.addForm.mobile,callback:function(t){e.$set(e.addForm,"mobile",t)},expression:"addForm.mobile"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"修改用户",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClose}},[r("el-form",{ref:"editFormRef",attrs:{model:e.editForm,rules:e.FormRules,"label-width":"70px"}},[r("el-form-item",{attrs:{label:"用户名"}},[r("el-input",{attrs:{disabled:""},model:{value:e.editForm.username,callback:function(t){e.$set(e.editForm,"username",t)},expression:"editForm.username"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1),r("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[r("el-input",{model:{value:e.editForm.mobile,callback:function(t){e.$set(e.editForm,"mobile",t)},expression:"editForm.mobile"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editUser}},[e._v("确 认")])],1)],1),r("el-dialog",{attrs:{title:"分配角色",visible:e.setRoleDialogVisible,width:"50%"},on:{"update:visible":function(t){e.setRoleDialogVisible=t}}},[r("div",[r("p",[e._v("当前的用户："+e._s(e.userInfo.username))]),r("p",[e._v("当前的角色："+e._s(e.userInfo.role_name))]),r("p",[e._v(" 分配新角色： "),r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selectdRoleId,callback:function(t){e.selectdRoleId=t},expression:"selectdRoleId"}},e._l(e.roleslist,(function(e){return r("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)],1)]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.setRoleDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.allotRole}},[e._v("确 认")])],1)])],1)},a=[],i=r(6198),o=(r(5666),r(4916),r(7601),r(1703),r(5394)),s={data:function(){var e=function(e,t,r){var n=/^[A-Za-z0-9]+([_\.][A-Za-z0-9]+)*@([A-Za-z0-9\-]+\.)+[A-Za-z]{2,6}$/;if(n.test(t))return r();r(new Error("请输入合法邮箱"))},t=function(e,t,r){var n=/^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/;if(n.test(t))return r();r(new Error("请输入合法手机号"))};return{queryInfo:{query:"",pagenum:1,pagesize:5},userlist:[],total:0,addDialogVisible:!1,addForm:{username:"",password:"",email:"",mobile:""},editDialogVisible:!1,editForm:{},setRoleDialogVisible:!1,userInfo:[],roleslist:[],selectdRoleId:"",FormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"用户名长度3 ~ 10",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"用户名长度6 ~ 15",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{validator:e,trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:t,trigger:"blur"}]}}},created:function(){this.getUsersList()},methods:{getUsersList:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.Fp)(e.queryInfo);case 2:if(r=t.sent,n=r.data,200===n.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("获取用户列表失败"));case 6:e.userlist=n.data.users,e.total=n.data.total;case 8:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(){this.getUsersList()},handleCurrentChange:function(){this.getUsersList()},userStateChanged:function(e){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function r(){var n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={uId:e.id,type:e.mg_state},r.next=3,(0,o.DC)(n);case 3:if(a=r.sent,i=a.data,200===i.meta.status){r.next=8;break}return e.mg_state=!e.mg_state,r.abrupt("return",t.$message.error("更新用户状态失败"));case 8:t.$message.success("更新用户状态成功");case 9:case"end":return r.stop()}}),r)})))()},addDialogClose:function(){this.$refs.addFormRef.resetFields()},addUser:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=(0,i.Z)(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,o.cn)(e.addForm);case 4:if(n=t.sent,a=n.data,201===a.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("添加用户失败"));case 8:e.$message.success("添加用户成功"),e.addDialogVisible=!1,e.getUsersList();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},showEditDialog:function(e){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,o.GA)(e);case 2:if(n=r.sent,a=n.data,200===a.meta.status){r.next=6;break}return r.abrupt("return",t.$message.error("查询用户信息失败"));case 6:t.editForm=a.data,t.editDialogVisible=!0;case 8:case"end":return r.stop()}}),r)})))()},editDialogClose:function(){this.$refs.editFormRef.resetFields()},editUser:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=(0,i.Z)(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,o.uz)(e.editForm.id,{email:e.editForm.email,mobile:e.editForm.mobile});case 4:if(n=t.sent,a=n.data,200===a.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("更新用户信息失败"));case 8:e.$message.success("更新用户信息成功"),e.getUsersList(),e.editDialogVisible=!1;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},removeUserById:function(e){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function r(){var n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$confirm("是否删除该用户","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(n=r.sent,"confirm"===n){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,(0,o.i)(e);case 7:if(a=r.sent,i=a.data,200===i.meta.status){r.next=11;break}return r.abrupt("return",t.$message.error("删除用户失败"));case 11:t.$message.success("删除用户成功"),t.getUsersList();case 13:case"end":return r.stop()}}),r)})))()},setRole:function(e){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.userInfo=e,r.next=3,(0,o.Sd)();case 3:if(n=r.sent,a=n.data,200===a.meta.status){r.next=7;break}return r.abrupt("return",t.$message.error("获取角色列表失败"));case 7:t.roleslist=a.data,t.selectdRoleId="",t.setRoleDialogVisible=!0;case 10:case"end":return r.stop()}}),r)})))()},allotRole:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectdRoleId){t.next=2;break}return t.abrupt("return",e.$message.error("请选择要分配的角色"));case 2:return t.next=4,(0,o.Yn)(e.userInfo.id,e.selectdRoleId);case 4:if(r=t.sent,n=r.data,200===n.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("更新角色失败"));case 8:e.$message.success("更新角色成功"),e.getUsersList(),e.setRoleDialogVisible=!1;case 11:case"end":return t.stop()}}),t)})))()}}},u=s,l=r(3736),c=(0,l.Z)(u,n,a,!1,null,"f325fad6",null),d=c.exports},8533:function(e,t,r){"use strict";var n=r(2092).forEach,a=r(9341),i=a("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},8457:function(e,t,r){"use strict";var n=r(7854),a=r(9974),i=r(6916),o=r(7908),s=r(3411),u=r(7659),l=r(4411),c=r(6244),d=r(6135),f=r(8554),m=r(1246),p=n.Array;e.exports=function(e){var t=o(e),r=l(this),n=arguments.length,g=n>1?arguments[1]:void 0,b=void 0!==g;b&&(g=a(g,n>2?arguments[2]:void 0));var v,h,y,x,w,R,k=m(t),F=0;if(!k||this==p&&u(k))for(v=c(t),h=r?new this(v):p(v);v>F;F++)R=b?g(t[F],F):t[F],d(h,F,R);else for(x=f(t,k),w=x.next,h=r?new this:[];!(y=i(w,x)).done;F++)R=b?s(x,g,[y.value,F],!0):y.value,d(h,F,R);return h.length=F,h}},9341:function(e,t,r){"use strict";var n=r(7293);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},1589:function(e,t,r){var n=r(7854),a=r(1400),i=r(6244),o=r(6135),s=n.Array,u=Math.max;e.exports=function(e,t,r){for(var n=i(e),l=a(t,n),c=a(void 0===r?n:r,n),d=s(u(c-l,0)),f=0;l<c;l++,f++)o(d,f,e[l]);return d.length=f,d}},3411:function(e,t,r){var n=r(9670),a=r(9212);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(o){a(e,"throw",o)}}},7741:function(e,t,r){var n=r(1702),a=n("".replace),i=function(e){return String(Error(e).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,s=o.test(i);e.exports=function(e,t){if(s&&"string"==typeof e)while(t--)e=a(e,o,"");return e}},7235:function(e,t,r){var n=r(857),a=r(2597),i=r(6061),o=r(3070).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});a(t,e)||o(t,e,{value:i.f(e)})}},2914:function(e,t,r){var n=r(7293),a=r(9114);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",a(1,7)),7!==e.stack)}))},9587:function(e,t,r){var n=r(614),a=r(111),i=r(7674);e.exports=function(e,t,r){var o,s;return i&&n(o=t.constructor)&&o!==r&&a(s=o.prototype)&&s!==r.prototype&&i(e,s),e}},8340:function(e,t,r){var n=r(111),a=r(8880);e.exports=function(e,t){n(t)&&"cause"in t&&a(e,"cause",t.cause)}},6277:function(e,t,r){var n=r(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},1156:function(e,t,r){var n=r(4326),a=r(5656),i=r(8006).f,o=r(1589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return i(e)}catch(t){return o(s)}};e.exports.f=function(e){return s&&"Window"==n(e)?u(e):i(a(e))}},857:function(e,t,r){var n=r(7854);e.exports=n},2261:function(e,t,r){"use strict";var n=r(6916),a=r(1702),i=r(1340),o=r(7066),s=r(2999),u=r(2309),l=r(30),c=r(9909).get,d=r(9441),f=r(7168),m=u("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,b=a("".charAt),v=a("".indexOf),h=a("".replace),y=a("".slice),x=function(){var e=/a/,t=/b*/g;return n(p,e,"a"),n(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=s.BROKEN_CARET,R=void 0!==/()??/.exec("")[1],k=x||R||w||d||f;k&&(g=function(e){var t,r,a,s,u,d,f,k=this,F=c(k),_=i(e),D=F.raw;if(D)return D.lastIndex=k.lastIndex,t=n(g,D,_),k.lastIndex=D.lastIndex,t;var $=F.groups,I=w&&k.sticky,E=n(o,k),S=k.source,C=0,V=_;if(I&&(E=h(E,"y",""),-1===v(E,"g")&&(E+="g"),V=y(_,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==b(_,k.lastIndex-1))&&(S="(?: "+S+")",V=" "+V,C++),r=new RegExp("^(?:"+S+")",E)),R&&(r=new RegExp("^"+S+"$(?!\\s)",E)),x&&(a=k.lastIndex),s=n(p,I?r:k,V),I?s?(s.input=y(s.input,C),s[0]=y(s[0],C),s.index=k.lastIndex,k.lastIndex+=s[0].length):k.lastIndex=0:x&&s&&(k.lastIndex=k.global?s.index+s[0].length:a),R&&s&&s.length>1&&n(m,s[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&$)for(s.groups=d=l(null),u=0;u<$.length;u++)f=$[u],d[f[0]]=s[f[1]];return s}),e.exports=g},7066:function(e,t,r){"use strict";var n=r(9670);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:function(e,t,r){var n=r(7293),a=r(7854),i=a.RegExp,o=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=o||n((function(){return!i("a","y").sticky})),u=o||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:u,MISSED_STICKY:s,UNSUPPORTED_Y:o}},9441:function(e,t,r){var n=r(7293),a=r(7854),i=a.RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:function(e,t,r){var n=r(7293),a=r(7854),i=a.RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},6061:function(e,t,r){var n=r(5112);t.f=n},9191:function(e,t,r){"use strict";var n=r(5005),a=r(2597),i=r(8880),o=r(7976),s=r(7674),u=r(9920),l=r(9587),c=r(6277),d=r(8340),f=r(7741),m=r(2914),p=r(1913);e.exports=function(e,t,r,g){var b=g?2:1,v=e.split("."),h=v[v.length-1],y=n.apply(null,v);if(y){var x=y.prototype;if(!p&&a(x,"cause")&&delete x.cause,!r)return y;var w=n("Error"),R=t((function(e,t){var r=c(g?t:e,void 0),n=g?new y(e):new y;return void 0!==r&&i(n,"message",r),m&&i(n,"stack",f(n.stack,2)),this&&o(x,this)&&l(n,this,R),arguments.length>b&&d(n,arguments[b]),n}));if(R.prototype=x,"Error"!==h&&(s?s(R,w):u(R,w,{name:!0})),u(R,y),!p)try{x.name!==h&&i(x,"name",h),x.constructor=R}catch(k){}return R}}},1038:function(e,t,r){var n=r(2109),a=r(8457),i=r(7072),o=!i((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:o},{from:a})},9600:function(e,t,r){"use strict";var n=r(2109),a=r(1702),i=r(8361),o=r(5656),s=r(9341),u=a([].join),l=i!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(e){return u(o(this),void 0===e?",":e)}})},7042:function(e,t,r){"use strict";var n=r(2109),a=r(7854),i=r(3157),o=r(4411),s=r(111),u=r(1400),l=r(6244),c=r(5656),d=r(6135),f=r(5112),m=r(1194),p=r(206),g=m("slice"),b=f("species"),v=a.Array,h=Math.max;n({target:"Array",proto:!0,forced:!g},{slice:function(e,t){var r,n,a,f=c(this),m=l(f),g=u(e,m),y=u(void 0===t?m:t,m);if(i(f)&&(r=f.constructor,o(r)&&(r===v||i(r.prototype))?r=void 0:s(r)&&(r=r[b],null===r&&(r=void 0)),r===v||void 0===r))return p(f,g,y);for(n=new(void 0===r?v:r)(h(y-g,0)),a=0;g<y;g++,a++)g in f&&d(n,a,f[g]);return n.length=a,n}})},1703:function(e,t,r){var n=r(2109),a=r(7854),i=r(2104),o=r(9191),s="WebAssembly",u=a[s],l=7!==Error("e",{cause:7}).cause,c=function(e,t){var r={};r[e]=o(e,t,l),n({global:!0,forced:l},r)},d=function(e,t){if(u&&u[e]){var r={};r[e]=o(s+"."+e,t,l),n({target:s,stat:!0,forced:l},r)}};c("Error",(function(e){return function(t){return i(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),c("URIError",(function(e){return function(t){return i(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},8309:function(e,t,r){var n=r(9781),a=r(6530).EXISTS,i=r(1702),o=r(3070).f,s=Function.prototype,u=i(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=i(l.exec),d="name";n&&!a&&o(s,d,{configurable:!0,get:function(){try{return c(l,u(this))[1]}catch(e){return""}}})},4916:function(e,t,r){"use strict";var n=r(2109),a=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},7601:function(e,t,r){"use strict";r(4916);var n=r(2109),a=r(7854),i=r(6916),o=r(1702),s=r(614),u=r(111),l=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),c=a.Error,d=o(/./.test);n({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=this.exec;if(!s(t))return d(this,e);var r=i(t,this,e);if(null!==r&&!u(r))throw new c("RegExp exec method returned something other than an Object or null");return!!r}})},1817:function(e,t,r){"use strict";var n=r(2109),a=r(9781),i=r(7854),o=r(1702),s=r(2597),u=r(614),l=r(7976),c=r(1340),d=r(3070).f,f=r(9920),m=i.Symbol,p=m&&m.prototype;if(a&&u(m)&&(!("description"in p)||void 0!==m().description)){var g={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=l(p,this)?new m(e):void 0===e?m():m(e);return""===e&&(g[t]=!0),t};f(b,m),b.prototype=p,p.constructor=b;var v="Symbol(test)"==String(m("test")),h=o(p.toString),y=o(p.valueOf),x=/^Symbol\((.*)\)[^)]+$/,w=o("".replace),R=o("".slice);d(p,"description",{configurable:!0,get:function(){var e=y(this),t=h(e);if(s(g,e))return"";var r=v?R(t,7,-1):w(t,x,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:b})}},2165:function(e,t,r){var n=r(7235);n("iterator")},2526:function(e,t,r){"use strict";var n=r(2109),a=r(7854),i=r(5005),o=r(2104),s=r(6916),u=r(1702),l=r(1913),c=r(9781),d=r(133),f=r(7293),m=r(2597),p=r(3157),g=r(614),b=r(111),v=r(7976),h=r(2190),y=r(9670),x=r(7908),w=r(5656),R=r(4948),k=r(1340),F=r(9114),_=r(30),D=r(1956),$=r(8006),I=r(1156),E=r(5181),S=r(1236),C=r(3070),V=r(6048),N=r(5296),O=r(206),A=r(1320),L=r(2309),z=r(6200),Z=r(3501),q=r(9711),j=r(5112),U=r(6061),B=r(7235),P=r(8003),T=r(9909),K=r(2092).forEach,M=z("hidden"),W="Symbol",Y="prototype",J=j("toPrimitive"),Q=T.set,G=T.getterFor(W),H=Object[Y],X=a.Symbol,ee=X&&X[Y],te=a.TypeError,re=a.QObject,ne=i("JSON","stringify"),ae=S.f,ie=C.f,oe=I.f,se=N.f,ue=u([].push),le=L("symbols"),ce=L("op-symbols"),de=L("string-to-symbol-registry"),fe=L("symbol-to-string-registry"),me=L("wks"),pe=!re||!re[Y]||!re[Y].findChild,ge=c&&f((function(){return 7!=_(ie({},"a",{get:function(){return ie(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=ae(H,t);n&&delete H[t],ie(e,t,r),n&&e!==H&&ie(H,t,n)}:ie,be=function(e,t){var r=le[e]=_(ee);return Q(r,{type:W,tag:e,description:t}),c||(r.description=t),r},ve=function(e,t,r){e===H&&ve(ce,t,r),y(e);var n=R(t);return y(r),m(le,n)?(r.enumerable?(m(e,M)&&e[M][n]&&(e[M][n]=!1),r=_(r,{enumerable:F(0,!1)})):(m(e,M)||ie(e,M,F(1,{})),e[M][n]=!0),ge(e,n,r)):ie(e,n,r)},he=function(e,t){y(e);var r=w(t),n=D(r).concat(ke(r));return K(n,(function(t){c&&!s(xe,r,t)||ve(e,t,r[t])})),e},ye=function(e,t){return void 0===t?_(e):he(_(e),t)},xe=function(e){var t=R(e),r=s(se,this,t);return!(this===H&&m(le,t)&&!m(ce,t))&&(!(r||!m(this,t)||!m(le,t)||m(this,M)&&this[M][t])||r)},we=function(e,t){var r=w(e),n=R(t);if(r!==H||!m(le,n)||m(ce,n)){var a=ae(r,n);return!a||!m(le,n)||m(r,M)&&r[M][n]||(a.enumerable=!0),a}},Re=function(e){var t=oe(w(e)),r=[];return K(t,(function(e){m(le,e)||m(Z,e)||ue(r,e)})),r},ke=function(e){var t=e===H,r=oe(t?ce:w(e)),n=[];return K(r,(function(e){!m(le,e)||t&&!m(H,e)||ue(n,le[e])})),n};if(d||(X=function(){if(v(ee,this))throw te("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?k(arguments[0]):void 0,t=q(e),r=function(e){this===H&&s(r,ce,e),m(this,M)&&m(this[M],t)&&(this[M][t]=!1),ge(this,t,F(1,e))};return c&&pe&&ge(H,t,{configurable:!0,set:r}),be(t,e)},ee=X[Y],A(ee,"toString",(function(){return G(this).tag})),A(X,"withoutSetter",(function(e){return be(q(e),e)})),N.f=xe,C.f=ve,V.f=he,S.f=we,$.f=I.f=Re,E.f=ke,U.f=function(e){return be(j(e),e)},c&&(ie(ee,"description",{configurable:!0,get:function(){return G(this).description}}),l||A(H,"propertyIsEnumerable",xe,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:X}),K(D(me),(function(e){B(e)})),n({target:W,stat:!0,forced:!d},{for:function(e){var t=k(e);if(m(de,t))return de[t];var r=X(t);return de[t]=r,fe[r]=t,r},keyFor:function(e){if(!h(e))throw te(e+" is not a symbol");if(m(fe,e))return fe[e]},useSetter:function(){pe=!0},useSimple:function(){pe=!1}}),n({target:"Object",stat:!0,forced:!d,sham:!c},{create:ye,defineProperty:ve,defineProperties:he,getOwnPropertyDescriptor:we}),n({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Re,getOwnPropertySymbols:ke}),n({target:"Object",stat:!0,forced:f((function(){E.f(1)}))},{getOwnPropertySymbols:function(e){return E.f(x(e))}}),ne){var Fe=!d||f((function(){var e=X();return"[null]"!=ne([e])||"{}"!=ne({a:e})||"{}"!=ne(Object(e))}));n({target:"JSON",stat:!0,forced:Fe},{stringify:function(e,t,r){var n=O(arguments),a=t;if((b(t)||void 0!==e)&&!h(e))return p(t)||(t=function(e,t){if(g(a)&&(t=s(a,this,e,t)),!h(t))return t}),n[1]=t,o(ne,null,n)}})}if(!ee[J]){var _e=ee.valueOf;A(ee,J,(function(e){return s(_e,this)}))}P(X,W),Z[M]=!0},4747:function(e,t,r){var n=r(7854),a=r(8324),i=r(8509),o=r(8533),s=r(8880),u=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var l in a)a[l]&&u(n[l]&&n[l].prototype);u(i)}}]);
//# sourceMappingURL=users_rights_roles-legacy.84234856.js.map