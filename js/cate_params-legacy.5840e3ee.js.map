{"version":3,"file":"js/cate_params-legacy.5840e3ee.js","mappings":"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","sources":["webpack://vue_shop/./src/views/Home_main/goods/Cate.vue?8462","webpack://vue_shop/src/views/Home_main/goods/Cate.vue","webpack://vue_shop/./src/views/Home_main/goods/Cate.vue?e615","webpack://vue_shop/./src/views/Home_main/goods/Cate.vue","webpack://vue_shop/./src/views/Home_main/goods/Params.vue?983b","webpack://vue_shop/src/views/Home_main/goods/Params.vue","webpack://vue_shop/./src/views/Home_main/goods/Params.vue?0649","webpack://vue_shop/./src/views/Home_main/goods/Params.vue","webpack://vue_shop/./node_modules/core-js/modules/es.array.map.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品分类\")])],1),_c('el-card',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.showAddCateDialog}},[_vm._v(\"添加分类\")]),_c('el-table',{attrs:{\"data\":_vm.catelist,\"row-key\":\"cat_id\",\"tree-props\":{ children: 'children' },\"border\":\"\",\"header-cell-style\":{ background: '#FAFAFA' }}},[_c('el-table-column',{attrs:{\"label\":\"#\",\"type\":\"\",\"prop\":\"index\",\"width\":\"48px\"}}),_c('el-table-column',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}}),_c('el-table-column',{attrs:{\"label\":\"是否有效\",\"prop\":\"cat_deleted\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.cat_deleted == false)?_c('i',{staticClass:\"el-icon-success\",staticStyle:{\"font-size\":\"20px\",\"color\":\"lightgreen\"}}):_c('i',{staticClass:\"el-icon-error\",staticStyle:{\"font-size\":\"20px\",\"color\":\"red\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"排序\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.cat_level == 0)?_c('el-tag',[_vm._v(\"一级\")]):(scope.row.cat_level == 1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"二级\")]):_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"三级\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"}},[[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"}},[_vm._v(\"删除\")])]],2)],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[3, 5, 10, 15],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.queryInfo, \"pagenum\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.queryInfo, \"pagenum\", $event)},\"update:pageSize\":function($event){return _vm.$set(_vm.queryInfo, \"pagesize\", $event)},\"update:page-size\":function($event){return _vm.$set(_vm.queryInfo, \"pagesize\", $event)}}}),_c('el-dialog',{attrs:{\"title\":\"添加分类\",\"visible\":_vm.addCateDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addCateDialogVisible=$event},\"close\":_vm.addCateDialogClosed}},[_c('el-form',{ref:\"addCateFormRef\",attrs:{\"model\":_vm.addCateForm,\"rules\":_vm.addCateFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}},[_c('el-input',{model:{value:(_vm.addCateForm.cat_name),callback:function ($$v) {_vm.$set(_vm.addCateForm, \"cat_name\", $$v)},expression:\"addCateForm.cat_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"父级分类\"}},[_c('el-cascader',{attrs:{\"options\":_vm.parentCateList,\"props\":{\n              expandTrigger: 'hover',\n              value: 'cat_id',\n              label: 'cat_name',\n              children: 'children',\n              checkStrictly: true\n            },\"clearable\":\"\"},on:{\"change\":_vm.parentCateChange},model:{value:(_vm.selectedKeys),callback:function ($$v) {_vm.selectedKeys=$$v},expression:\"selectedKeys\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addCateDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addCate}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑 -->\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品分类</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片 -->\r\n    <el-card>\r\n      <el-button type=\"primary\" @click=\"showAddCateDialog\">添加分类</el-button>\r\n      <!-- 表格 -->\r\n      <el-table\r\n        :data=\"catelist\"\r\n        row-key=\"cat_id\"\r\n        :tree-props=\"{ children: 'children' }\"\r\n        border\r\n        :header-cell-style=\"{ background: '#FAFAFA' }\"\r\n      >\r\n        <!-- 模拟索引列，空type 可以把tree的展开符移到下一列 -->\r\n        <el-table-column label=\"#\" type=\"\" prop=\"index\" width=\"48px\"></el-table-column>\r\n        <el-table-column label=\"分类名称\" prop=\"cat_name\"></el-table-column>\r\n        <el-table-column label=\"是否有效\" prop=\"cat_deleted\">\r\n          <template v-slot=\"scope\">\r\n            <i\r\n              v-if=\"scope.row.cat_deleted == false\"\r\n              class=\"el-icon-success\"\r\n              style=\"font-size: 20px; color: lightgreen\"\r\n            ></i>\r\n            <i v-else class=\"el-icon-error\" style=\"font-size: 20px; color: red\"></i>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"排序\">\r\n          <template v-slot=\"scope\">\r\n            <el-tag v-if=\"scope.row.cat_level == 0\">一级</el-tag>\r\n            <el-tag v-else-if=\"scope.row.cat_level == 1\" type=\"success\">二级</el-tag>\r\n            <el-tag v-else type=\"warning\">三级</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template>\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\">编辑</el-button>\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"queryInfo.pagenum\"\r\n        :page-sizes=\"[3, 5, 10, 15]\"\r\n        :page-size.sync=\"queryInfo.pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n      ></el-pagination>\r\n      <!-- 添加分类对话框 -->\r\n      <el-dialog\r\n        title=\"添加分类\"\r\n        :visible.sync=\"addCateDialogVisible\"\r\n        width=\"50%\"\r\n        @close=\"addCateDialogClosed\"\r\n      >\r\n        <el-form :model=\"addCateForm\" :rules=\"addCateFormRules\" ref=\"addCateFormRef\" label-width=\"100px\">\r\n          <el-form-item label=\"分类名称\" prop=\"cat_name\">\r\n            <el-input v-model=\"addCateForm.cat_name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"父级分类\">\r\n            <el-cascader\r\n              v-model=\"selectedKeys\"\r\n              :options=\"parentCateList\"\r\n              :props=\"{\r\n                expandTrigger: 'hover',\r\n                value: 'cat_id',\r\n                label: 'cat_name',\r\n                children: 'children',\r\n                checkStrictly: true\r\n              }\"\r\n              @change=\"parentCateChange\"\r\n              clearable\r\n            ></el-cascader>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addCateDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addCate\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCateList, addCate } from '@/api/api.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n      queryInfo: {\r\n        type: 3,\r\n        pagenum: 1,\r\n        pagesize: 5\r\n      },\r\n      // 商品分类列表\r\n      catelist: [],\r\n      // 数据条数\r\n      total: 0,\r\n      inexd: 0,\r\n      // 控制对话框显示隐藏\r\n      addCateDialogVisible: false,\r\n      // 添加分类的表单数据\r\n      addCateForm: {\r\n        cat_name: '',\r\n        cat_pid: 0,\r\n        cat_level: 0\r\n      },\r\n      // 父级分类列表\r\n      parentCateList: [],\r\n      // 选中父级分类的id数组\r\n      selectedKeys: [],\r\n      // 表单验证\r\n      addCateFormRules: {\r\n        cat_name: [{ required: true, message: '请输入分类名称', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getCateList()\r\n  },\r\n\r\n  methods: {\r\n    // 商品分类列表\r\n    async getCateList() {\r\n      const { data: res } = await getCateList(this.queryInfo)\r\n      if (res.meta.status !== 200) return this.$message.error('获取商品分类列表失败')\r\n      // 给第一级节点添加index，方便设置索引列\r\n      // 因为组件默认的索引列会给所有列添加索引，而想要的效果是只需给一级节点添加索引\r\n      let i = 1\r\n      res.data.result.map(item => {\r\n        return (item.index = i++)\r\n      })\r\n      this.catelist = res.data.result\r\n      this.total = res.data.total\r\n    },\r\n    handleSizeChange() {\r\n      this.getCateList()\r\n    },\r\n    handleCurrentChange() {\r\n      this.getCateList()\r\n    },\r\n    // 展示添加分类对话框\r\n    async showAddCateDialog() {\r\n      // 获取父级分类（即前两级）\r\n      const { data: res } = await getCateList({ type: 2 })\r\n      if (res.meta.status !== 200) return this.$message.error('获取父级分类失败')\r\n      this.parentCateList = res.data\r\n      this.addCateDialogVisible = true\r\n    },\r\n    // 选中项发生变化触发\r\n    parentCateChange() {\r\n      // selectedKeys为选中项id\r\n      // 根据选中项selectedKeys的长度判断选中了第几级\r\n      // 数组有值时有两种情况：[一级id]或[一级id,二级id]\r\n      if (this.selectedKeys.length > 0) {\r\n        // 父级分类id，始终取选项数组最后一个id\r\n        this.addCateForm.cat_pid = this.selectedKeys[this.selectedKeys.length - 1]\r\n        // 当前要添加的分类的等级\r\n        this.addCateForm.cat_level = this.selectedKeys.length\r\n        return\r\n      }\r\n    },\r\n    // 对话框关闭重置input和其他参数，及选中项\r\n    addCateDialogClosed() {\r\n      this.$refs.addCateFormRef.resetFields()\r\n      this.addCateForm.cat_level = 0\r\n      this.addCateForm.cat_pid = 0\r\n      this.selectedKeys = []\r\n    },\r\n    addCate() {\r\n      this.$refs.addCateFormRef.validate(async valid => {\r\n        if (!valid) return\r\n        const { data: res } = await addCate(this.addCateForm)\r\n        if (res.meta.status !== 201) return this.$message.error('添加分类失败')\r\n        this.$message.success('添加分类成功')\r\n        this.getCateList()\r\n        this.addCateDialogVisible = false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-cascader {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cate.vue?vue&type=template&id=69d4d90e&scoped=true&\"\nimport script from \"./Cate.vue?vue&type=script&lang=js&\"\nexport * from \"./Cate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cate.vue?vue&type=style&index=0&id=69d4d90e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69d4d90e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":\"/home\"}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"参数分类\")])],1),_c('el-card',[_c('el-alert',{attrs:{\"title\":\"注意：只允许第三级分类设置相关参数\",\"type\":\"warning\",\"show-icon\":\"\",\"close\":false}}),_c('el-row',{staticClass:\"cat_opt\"},[_c('el-col',[_c('span',[_vm._v(\"选择商品分类：\")]),_c('el-cascader',{attrs:{\"options\":_vm.catelist,\"props\":{ expandTrigger: 'hover', value: 'cat_id', label: 'cat_name', children: 'children' }},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedCateKeys),callback:function ($$v) {_vm.selectedCateKeys=$$v},expression:\"selectedCateKeys\"}})],1)],1),_c('el-tabs',{on:{\"tab-click\":_vm.handleTabClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"动态参数\",\"name\":\"many\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.selectedCateKeys.length == 3 ? false : true}},[_vm._v(\" 添加参数 \")]),_c('el-table',{attrs:{\"data\":_vm.manyTableData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row.attr_vals),function(item,index){return _c('el-tag',{key:index,attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.handleClose(index, scope.row)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),(scope.row.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":function($event){return _vm.handleInputConfirm(scope.row)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm(scope.row)}},model:{value:(scope.row.inputValue),callback:function ($$v) {_vm.$set(scope.row, \"inputValue\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.showInput(scope.row)}}},[_vm._v(\" + New Tag \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"#\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"参数名称\",\"prop\":\"attr_name\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.attr_id)}}},[_vm._v(\" 编辑 \")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeParams(scope.row.attr_id)}}},[_vm._v(\" 删除 \")])]}}])})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"静态属性\",\"name\":\"only\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.selectedCateKeys.length == 3 ? false : true},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\" 添加属性 \")]),_c('el-table',{attrs:{\"data\":_vm.onlyTableData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row.attr_vals),function(item,index){return _c('el-tag',{key:index,attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.handleClose(index, scope.row)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),(scope.row.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":function($event){return _vm.handleInputConfirm(scope.row)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm(scope.row)}},model:{value:(scope.row.inputValue),callback:function ($$v) {_vm.$set(scope.row, \"inputValue\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.showInput(scope.row)}}},[_vm._v(\" + New Tag \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"#\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"静态属性\",\"prop\":\"attr_name\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.attr_id)}}},[_vm._v(\" 编辑 \")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeParams(scope.row.attr_id)}}},[_vm._v(\" 删除 \")])]}}])})],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.activeName == 'many' ? '添加参数' : '添加属性',\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClose}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.FormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.activeName == 'many' ? '动态参数' : '静态属性',\"prop\":\"attr_name\"}},[_c('el-input',{model:{value:(_vm.addForm.attr_name),callback:function ($$v) {_vm.$set(_vm.addForm, \"attr_name\", $$v)},expression:\"addForm.attr_name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addParams}},[_vm._v(\"确 认\")])],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.activeName == 'many' ? '编辑参数' : '编辑属性',\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClose}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.FormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.activeName == 'many' ? '动态参数' : '静态属性',\"prop\":\"attr_name\"}},[_c('el-input',{model:{value:(_vm.editForm.attr_name),callback:function ($$v) {_vm.$set(_vm.editForm, \"attr_name\", $$v)},expression:\"editForm.attr_name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editParams}},[_vm._v(\"确 认\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑 -->\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item to=\"/home\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>参数分类</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片 -->\r\n    <el-card>\r\n      <el-alert title=\"注意：只允许第三级分类设置相关参数\" type=\"warning\" show-icon :close=\"false\"></el-alert>\r\n      <el-row class=\"cat_opt\">\r\n        <el-col>\r\n          <span>选择商品分类：</span>\r\n          <el-cascader\r\n            v-model=\"selectedCateKeys\"\r\n            :options=\"catelist\"\r\n            :props=\"{ expandTrigger: 'hover', value: 'cat_id', label: 'cat_name', children: 'children' }\"\r\n            @change=\"handleChange\"\r\n          ></el-cascader>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 标签页 -->\r\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleTabClick\">\r\n        <el-tab-pane label=\"动态参数\" name=\"many\">\r\n          <el-button type=\"primary\" size=\"mini\" :disabled=\"selectedCateKeys.length == 3 ? false : true\">\r\n            添加参数\r\n          </el-button>\r\n          <!-- 表格 -->\r\n          <el-table :data=\"manyTableData\" border stripe>\r\n            <!-- 展开列 -->\r\n            <el-table-column type=\"expand\">\r\n              <template v-slot=\"scope\">\r\n                <!-- 循环渲染tag -->\r\n                <el-tag\r\n                  v-for=\"(item, index) in scope.row.attr_vals\"\r\n                  :key=\"index\"\r\n                  closable\r\n                  @close=\"handleClose(index, scope.row)\"\r\n                >\r\n                  {{ item }}\r\n                </el-tag>\r\n                <!-- 切换显示input、button实现 new tag -->\r\n                <el-input\r\n                  class=\"input-new-tag\"\r\n                  v-if=\"scope.row.inputVisible\"\r\n                  v-model.trim=\"scope.row.inputValue\"\r\n                  ref=\"saveTagInput\"\r\n                  size=\"small\"\r\n                  @keyup.enter.native=\"handleInputConfirm(scope.row)\"\r\n                  @blur=\"handleInputConfirm(scope.row)\"\r\n                ></el-input>\r\n                <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput(scope.row)\">\r\n                  + New Tag\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n            <el-table-column label=\"参数名称\" prop=\"attr_name\"></el-table-column>\r\n            <el-table-column label=\"操作\">\r\n              <template v-slot=\"scope\">\r\n                <el-button\r\n                  type=\"primary\"\r\n                  icon=\"el-icon-edit\"\r\n                  size=\"mini\"\r\n                  @click=\"showEditDialog(scope.row.attr_id)\"\r\n                >\r\n                  编辑\r\n                </el-button>\r\n                <el-button\r\n                  type=\"danger\"\r\n                  icon=\"el-icon-delete\"\r\n                  size=\"mini\"\r\n                  @click=\"removeParams(scope.row.attr_id)\"\r\n                >\r\n                  删除\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"静态属性\" name=\"only\">\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"mini\"\r\n            :disabled=\"selectedCateKeys.length == 3 ? false : true\"\r\n            @click=\"addDialogVisible = true\"\r\n          >\r\n            添加属性\r\n          </el-button>\r\n          <!-- 表格 -->\r\n          <el-table :data=\"onlyTableData\" border stripe>\r\n            <!-- 展开列 -->\r\n            <el-table-column type=\"expand\">\r\n              <template v-slot=\"scope\">\r\n                <!-- 循环渲染tag -->\r\n                <el-tag\r\n                  v-for=\"(item, index) in scope.row.attr_vals\"\r\n                  :key=\"index\"\r\n                  closable\r\n                  @close=\"handleClose(index, scope.row)\"\r\n                >\r\n                  {{ item }}\r\n                </el-tag>\r\n                <!-- 切换显示input、button实现 new tag -->\r\n                <el-input\r\n                  class=\"input-new-tag\"\r\n                  v-if=\"scope.row.inputVisible\"\r\n                  v-model.trim=\"scope.row.inputValue\"\r\n                  ref=\"saveTagInput\"\r\n                  size=\"small\"\r\n                  @keyup.enter.native=\"handleInputConfirm(scope.row)\"\r\n                  @blur=\"handleInputConfirm(scope.row)\"\r\n                ></el-input>\r\n                <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput(scope.row)\">\r\n                  + New Tag\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"#\" type=\"index\"></el-table-column>\r\n            <el-table-column label=\"静态属性\" prop=\"attr_name\"></el-table-column>\r\n            <el-table-column label=\"操作\">\r\n              <template v-slot=\"scope\">\r\n                <el-button\r\n                  type=\"primary\"\r\n                  icon=\"el-icon-edit\"\r\n                  size=\"mini\"\r\n                  @click=\"showEditDialog(scope.row.attr_id)\"\r\n                >\r\n                  编辑\r\n                </el-button>\r\n                <el-button\r\n                  type=\"danger\"\r\n                  icon=\"el-icon-delete\"\r\n                  size=\"mini\"\r\n                  @click=\"removeParams(scope.row.attr_id)\"\r\n                >\r\n                  删除\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </el-card>\r\n    <!-- 添加 参数&属性 的对话框 -->\r\n    <el-dialog\r\n      :title=\"activeName == 'many' ? '添加参数' : '添加属性'\"\r\n      :visible.sync=\"addDialogVisible\"\r\n      width=\"50%\"\r\n      @close=\"addDialogClose\"\r\n    >\r\n      <el-form :model=\"addForm\" :rules=\"FormRules\" ref=\"addFormRef\" label-width=\"100px\">\r\n        <el-form-item :label=\"activeName == 'many' ? '动态参数' : '静态属性'\" prop=\"attr_name\">\r\n          <el-input v-model=\"addForm.attr_name\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addDialogVisible = true\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addParams\">确 认</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 编辑 参数&属性 的对话框 -->\r\n    <el-dialog\r\n      :title=\"activeName == 'many' ? '编辑参数' : '编辑属性'\"\r\n      :visible.sync=\"editDialogVisible\"\r\n      width=\"50%\"\r\n      @close=\"editDialogClose\"\r\n    >\r\n      <el-form :model=\"editForm\" :rules=\"FormRules\" ref=\"editFormRef\" label-width=\"100px\">\r\n        <el-form-item :label=\"activeName == 'many' ? '动态参数' : '静态属性'\" prop=\"attr_name\">\r\n          <el-input v-model=\"editForm.attr_name\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editParams\">确 认</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getCateList, getParamsList, addParams, getParams, editParams, removeParams } from '@/api/api.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 商品分类列表\r\n      catelist: [],\r\n      // 级联选择器选中项\r\n      selectedCateKeys: [],\r\n      // 三级分类的id\r\n      cateId: '',\r\n      // 标签页选中项\r\n      activeName: 'many',\r\n      // 动态参数数据\r\n      manyTableData: [],\r\n      // 静态属性数据\r\n      onlyTableData: [],\r\n      // 控制添加对话框的显示隐藏\r\n      addDialogVisible: false,\r\n      // 添加参数&属性的表单\r\n      addForm: {},\r\n      // 控制编辑对话框的显示隐藏\r\n      editDialogVisible: false,\r\n      // 编辑参数&属性的表单\r\n      editForm: {},\r\n      // 添加表单的校验规则\r\n      FormRules: {\r\n        attr_name: [{ required: true, message: '请输入参数名称', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getCateList()\r\n  },\r\n\r\n  methods: {\r\n    async getCateList() {\r\n      const { data: res } = await getCateList()\r\n      if (res.meta.status !== 200) return this.$message.error('获取商品分类列表失败')\r\n      this.catelist = res.data\r\n    },\r\n    // 级联选择器选中项改变\r\n    async handleChange() {\r\n      this.getParamsList()\r\n    },\r\n    // 标签页选择项改变\r\n    handleTabClick() {\r\n      this.getParamsList()\r\n    },\r\n    // 获取参数列表\r\n    async getParamsList() {\r\n      // 选择范围，只允许选中三级分类。选中非三级分类，将选中项清空\r\n      if (this.selectedCateKeys.length !== 3) {\r\n        this.selectedCateKeys = []\r\n        // 清空tab的数据，否者选中三级分类后再去选二级分类，三级分类的tab数据依然会渲染到页面\r\n        this.manyTableData = []\r\n        this.onlyTableData = []\r\n        return\r\n      }\r\n      // 获取三级分类的id\r\n      this.cateId = this.selectedCateKeys[2]\r\n      const { data: res } = await getParamsList(this.cateId, this.activeName)\r\n      if (res.meta.status !== 200) return this.$message.error('获取参数列表失败')\r\n      res.data.forEach(item => {\r\n        // 如果attr_vals为空字符，直接split会得[\"\"]，会导致页面渲染出一个空tag\r\n        item.attr_vals = item.attr_vals ? item.attr_vals.split(' ') : []\r\n        // 添加控制newTag功能中input显示隐藏的属性，和input的值\r\n        item.inputVisible = false\r\n        item.inputValue = ''\r\n      })\r\n\r\n      if (this.activeName == 'many') {\r\n        this.manyTableData = res.data\r\n      } else {\r\n        this.onlyTableData = res.data\r\n      }\r\n    },\r\n    // 添加对话框关闭\r\n    addDialogClose() {\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    // 点击确认，添加参数\r\n    addParams() {\r\n      this.$refs.addFormRef.validate(async valid => {\r\n        if (!valid) return\r\n        const { data: res } = await addParams(this.cateId, {\r\n          attr_name: this.addForm.attr_name,\r\n          attr_sel: this.activeName\r\n        })\r\n        if (res.meta.status !== 201) return this.$message.error('添加参数失败')\r\n        this.$message.success('添加参数成功')\r\n        this.addDialogVisible = false\r\n        this.getParamsList()\r\n      })\r\n    },\r\n    // 展示编辑对话框\r\n    async showEditDialog(attr_id) {\r\n      const { data: res } = await getParams(this.cateId, attr_id, this.activeName)\r\n      if (res.meta.status !== 200) return this.$message.error('获取参数失败')\r\n      this.editForm = res.data\r\n      this.editDialogVisible = true\r\n    },\r\n    // 编辑对话框关闭\r\n    editDialogClose() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    // 点击确认，提交编辑\r\n    editParams() {\r\n      this.$refs.editFormRef.validate(async valid => {\r\n        if (!valid) return\r\n        const { data: res } = await editParams(\r\n          this.cateId,\r\n          this.editForm.attr_id,\r\n          this.editForm.attr_name,\r\n          this.activeName\r\n        )\r\n        if (res.meta.status !== 200) return this.$message.error('修改参数失败')\r\n        this.$message.success('修改参数成功')\r\n        this.editDialogVisible = false\r\n        this.getParamsList()\r\n      })\r\n    },\r\n    // 删除参数项\r\n    async removeParams(attr_id) {\r\n      const confirmResult = await this.$confirm('是否删除该参数？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n      if (confirmResult !== 'confirm') return\r\n      const { data: res } = await removeParams(this.cateId, attr_id)\r\n      if (res.meta.status !== 200) return this.$message.error('删除参数失败')\r\n      this.$message.success('删除参数成功')\r\n      this.getParamsList()\r\n    },\r\n    // 点击 +New tag，展示input，并在input渲染后自动获取焦点\r\n    showInput(row) {\r\n      row.inputVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.saveTagInput.$refs.input.focus()\r\n      })\r\n    },\r\n    async saveAttrVals(row) {\r\n      const { data: res } = await editParams(\r\n        this.cateId,\r\n        row.attr_id,\r\n        row.attr_name,\r\n        this.activeName,\r\n        row.attr_vals.join(' ')\r\n      )\r\n      if (res.meta.status !== 200) return this.$message.error('更新参数失败')\r\n      this.$message.success('更新参数成功')\r\n    },\r\n    // 失去焦点或按下Enter，添加newTag\r\n    handleInputConfirm(row) {\r\n      if (row.inputValue.length == 0) {\r\n        row.inputValue = ''\r\n        row.inputVisible = false\r\n        return\r\n      }\r\n      row.attr_vals.push(row.inputValue)\r\n      row.inputValue = ''\r\n      row.inputVisible = false\r\n      this.saveAttrVals(row)\r\n    },\r\n    // 根据索引删除tag\r\n    handleClose(index, row) {\r\n      row.attr_vals.splice(index, 1)\r\n      this.saveAttrVals(row)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.cat_opt {\r\n  margin: 15px 0;\r\n}\r\n.el-tag {\r\n  margin: 5px;\r\n}\r\n.input-new-tag {\r\n  width: 100px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Params.vue?vue&type=template&id=56c79b26&scoped=true&\"\nimport script from \"./Params.vue?vue&type=script&lang=js&\"\nexport * from \"./Params.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Params.vue?vue&type=style&index=0&id=56c79b26&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56c79b26\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","on","showAddCateDialog","catelist","children","background","scopedSlots","_u","key","fn","scope","row","cat_deleted","staticClass","staticStyle","cat_level","queryInfo","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","$event","$set","addCateDialogVisible","addCateDialogClosed","ref","addCateForm","addCateFormRules","model","value","callback","$$v","expression","parentCateList","expandTrigger","label","checkStrictly","parentCateChange","selectedKeys","slot","addCate","staticRenderFns","data","type","inexd","cat_name","cat_pid","required","message","trigger","created","getCateList","methods","res","i","length","$refs","addCateFormRef","resetFields","validate","valid","component","handleChange","selectedCateKeys","handleTabClick","activeName","manyTableData","_l","item","index","handleClose","_s","handleInputConfirm","nativeOn","indexOf","_k","keyCode","trim","showInput","showEditDialog","attr_id","removeParams","addDialogVisible","onlyTableData","addDialogClose","addForm","FormRules","addParams","editDialogVisible","editDialogClose","editForm","editParams","cateId","attr_name","getParamsList","addFormRef","attr_sel","getParams","editFormRef","confirmButtonText","cancelButtonText","catch","confirmResult","inputVisible","$nextTick","inputValue","attr_vals","push","saveAttrVals","splice","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","map","callbackfn","arguments","undefined"],"sourceRoot":""}